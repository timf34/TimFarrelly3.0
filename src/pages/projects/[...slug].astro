---
import ContentLayout from '../../layouts/ContentLayout.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const projects = await getCollection('projects');
  return projects.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props;
const { Content } = await render(project);
---

<ContentLayout title={`${project.data.title} | Tim Farrelly`}>
  <h1>{project.data.title}</h1>
  {project.data.year && <p class="year">{project.data.year}</p>}
  <Content />
</ContentLayout>

<style>
  .year {
    color: rgba(14, 32, 47, 0.6);
    margin-top: -1rem;
    font-style: italic;
  }
</style>
